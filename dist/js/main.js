(()=>{"use strict";const e=({formId:e,someElem:t=[]})=>{const o=document.getElementById(e),n=document.createElement("div"),r="Спасибо! Наш менеджер свяжется с вами!";try{if(!o)throw new Error("Верните форму на место, пожалуйста))");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=o.querySelectorAll("input"),c=new FormData(o),l={};n.textContent="Загрузка...",n.style.color="white",o.append(n),c.forEach(((e,t)=>{""!=e&&(l[t]=e)})),t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type&&t.textContent>0?l[e.id]=t.textContent:"input"===e.type&&(l[e.id]=t.Value)})),(async e=>{if(e.user_name.length>1&&e.user_phone>6){const t=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return await t.json()}r="Данные не подходят, для отправки"})(l).then((t=>{n.textContent=r,e.forEach((e=>{e.value=""}))})).catch((e=>{n.textContent="Ошибка"}))})()}))}catch(e){console.log(e.message)}};(e=>{const t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds");let r;const c=e=>(e<10&&(e="0"+e),e),l=()=>{let e=(()=>{let e=(new Date("11 july 2022 10:00").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();t.textContent=c(e.hours),o.textContent=c(e.minutes),n.textContent=c(e.seconds),e.timeRemaining<0&&(clearInterval(r),t.textContent="00",o.textContent="00",n.textContent="00")};l(),r=setInterval(l,1e3)})(),(()=>{const e=document.querySelector(".menu"),t=document.querySelector("menu"),o=()=>{t.classList.toggle("active-menu")};e.addEventListener("click",o),t.addEventListener("click",(e=>{e.target.closest("a")&&o()}))})(),(()=>{const e=document.querySelectorAll(".popup-btn"),t=document.querySelector(".popup"),o=t.querySelector(".popup-content");let n;const r=()=>{t.style.display="block",(({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function r(c){let l=(c-n)/o;l>1&&(l=1);let a=e(l);t(a),l<1&&requestAnimationFrame(r)}))})({duration:1500,timing:n,draw:function(e){o.style.left=40*e+"%"}})},c=e=>{for(let t=0,o=1;;t+=o,o/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(o,2)};e.forEach((e=>{var t;t=c,n=function(e){return 1-t(1-e)},e.addEventListener("click",r)})),t.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||(t.style.display="none")}))})(),(()=>{const e=document.querySelectorAll(".calc-block>input"),t=document.querySelector(".main-form-input"),o=document.querySelector(".footer-form-input").querySelectorAll("input"),n=t.querySelectorAll("input"),r=e=>{e.target.value=e.target.value.replace(/[^А-я-= ]/,"").replace(/^\s*/g,"")},c=e=>{e.target.value=e.target.value.replace(/[^A-z@-_.!~*'\d]/,"").replace(/^\s*/g,"")},l=e=>{e.target.value=e.target.value.replace(/[^\d()-+-]/,"").replace(/^\s*/g,"")};e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/\D+/,"")}))})),o[3].addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^А-я 0-9-.?!)(,:]/,"").replace(/^\s*/g,"")})),o[0].addEventListener("input",r),n[0].addEventListener("input",r),n[1].addEventListener("input",c),o[1].addEventListener("input",c),n[2].addEventListener("input",l),o[2].addEventListener("input",l)})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-tab"),o=document.querySelectorAll(".service-header-tab");e.addEventListener("click",(e=>{if(e.target.closest(".service-header-tab")){const n=e.target.closest(".service-header-tab");o.forEach(((e,o)=>{e===n?(e.classList.add("active"),t[o].classList.remove("d-none")):(e.classList.remove("active"),t[o].classList.add("d-none"))}))}}))})(),(()=>{const e=document.querySelector(".portfolio-content"),t=document.querySelectorAll(".portfolio-item"),o=document.querySelector(".portfolio-dots");let n,r,c=document.querySelectorAll(".dot"),l=0;const a=(e,t,o)=>{e[t].classList.remove(o)},s=(e,t,o)=>{e[t].classList.add(o)},i=()=>{a(t,l,"portfolio-item-active"),a(c,l,"dot-active"),l++,l>=t.length&&(l=0),s(t,l,"portfolio-item-active"),s(c,l,"dot-active")},u=(e=1500)=>{n=setInterval(i,e)};t.forEach((e=>{let t=document.createElement("li");t.classList.add("dot"),o.append(t)})),c=document.querySelectorAll(".dot"),e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(a(t,l,"portfolio-item-active"),a(c,l,"dot-active"),e.target.matches("#arrow-right")?l++:e.target.matches("#arrow-left")?l--:e.target.classList.contains("dot")&&c.forEach(((t,o)=>{e.target===t&&(l=o)})),l>=t.length&&(l=0),l<0&&(l=t.length-1),s(t,l,"portfolio-item-active"),s(c,l,"dot-active"))})),e.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(n)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&u(r)}),!0),u(r)})(),((e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),r=document.querySelector(".calc-count"),c=document.querySelector(".calc-day"),l=document.getElementById("total");t.addEventListener("input",(t=>{(()=>{const t=+o.options[o.selectedIndex].value,a=n.value;let s=0,i=1,u=1;c.value&&c.value<5?u=2:c.value&&c.value<10&&(u=1.5),r.value>1&&(i+=r.value/10),s=o.value&&n.value?Math.ceil(e*t*a*i*u):0,l.textContent=s})()}))})(100),e({formId:"form1",someElem:[{type:"block",id:"total"}]}),e({formId:"form2",someElem:[{type:"block",id:"total"}]}),e({formId:"form3",someElem:[{type:"block",id:"total"}]}),(()=>{const e=document.querySelectorAll('a[href^="#"]');for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const o=t.getAttribute("href");document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}))})()})();